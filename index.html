<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoodScape - Advanced Mood-Based Web Experience</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --warm-orange: #ff9a3c;
            --soft-yellow: #ffd166;
            --cozy-red: #ef476f;
            --calm-purple: #9d4edd;
            --peace-blue: #118ab2;
            --energetic-pink: #ff4d8d;
            --reflective-teal: #06d6a0;
            --glow-color: rgba(255, 209, 102, 0.7);
            --dark-bg: #0a0a0a;
            --card-bg: rgba(25, 25, 35, 0.92);
            --text-light: #f8f9fa;
            --text-dim: #adb5bd;
            --transition-slow: 1.2s cubic-bezier(0.22, 1, 0.36, 1);
            --transition-fast: 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-light);
            min-height: 100vh;
            overflow-x: hidden;
            transition: background-color 1.5s ease;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 40px 20px;
            position: relative;
            z-index: 10;
        }

        .logo {
            font-family: 'Quicksand', sans-serif;
            font-size: 3.2rem;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(90deg, var(--warm-orange), var(--soft-yellow), var(--energetic-pink));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(255, 154, 60, 0.4);
            letter-spacing: 1px;
        }

        .tagline {
            font-size: 1.3rem;
            color: var(--text-dim);
            max-width: 700px;
            margin: 0 auto 40px;
            line-height: 1.5;
        }

        .mood-input-section {
            background: rgba(35, 35, 45, 0.7);
            border-radius: 20px;
            padding: 30px;
            margin: 30px auto 40px;
            max-width: 800px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .input-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--soft-yellow);
            text-align: center;
        }

        .mood-input-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .custom-mood-input {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        #customMoodInput {
            flex-grow: 1;
            min-width: 250px;
            padding: 16px 20px;
            border-radius: 50px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            background: rgba(20, 20, 30, 0.8);
            color: var(--text-light);
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
        }

        #customMoodInput:focus {
            outline: none;
            border-color: var(--warm-orange);
            box-shadow: 0 0 20px rgba(255, 154, 60, 0.3);
        }

        .input-btn {
            padding: 16px 30px;
            border-radius: 50px;
            border: none;
            background: linear-gradient(90deg, var(--warm-orange), var(--cozy-red));
            color: white;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 8px 20px rgba(239, 71, 111, 0.3);
        }

        .input-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(239, 71, 111, 0.4);
        }

        .mood-selector {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 25px;
            margin: 40px 0 30px;
        }

        .mood-option {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition-fast);
            background: var(--card-bg);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .mood-option:hover {
            transform: translateY(-15px) scale(1.08);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .mood-option.active {
            transform: translateY(-10px) scale(1.12);
            border-color: var(--glow-color);
            box-shadow: 0 0 40px var(--glow-color), 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .mood-icon {
            font-size: 2.8rem;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        .mood-name {
            font-weight: 700;
            font-size: 1.2rem;
            letter-spacing: 0.5px;
        }

        .mood-intensity {
            position: absolute;
            bottom: 15px;
            display: flex;
            gap: 4px;
        }

        .intensity-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .intensity-dot.active {
            background: var(--text-light);
            transform: scale(1.2);
        }

        .mood-description {
            text-align: center;
            max-width: 900px;
            margin: 30px auto 60px;
            font-size: 1.4rem;
            line-height: 1.6;
            padding: 0 20px;
            min-height: 80px;
            transition: all 0.5s ease;
            font-weight: 500;
        }

        .experience-area {
            background: var(--card-bg);
            border-radius: 25px;
            padding: 50px;
            margin: 50px 0;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            min-height: 500px;
            transition: var(--transition-slow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .experience-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--warm-orange), var(--soft-yellow), var(--calm-purple));
            z-index: 1;
        }

        .experience-title {
            font-size: 2.2rem;
            margin-bottom: 30px;
            color: var(--soft-yellow);
            text-align: center;
            font-weight: 700;
        }

        .experience-content {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            align-items: center;
            justify-content: center;
        }

        .visual-container {
            flex: 1;
            min-width: 350px;
            height: 350px;
            border-radius: 20px;
            background: rgba(10, 10, 15, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.5), 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .mood-visual {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 9rem;
            opacity: 0.9;
            filter: drop-shadow(0 0 20px currentColor);
        }

        .visual-effects {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
        }

        .content-text {
            flex: 2;
            min-width: 350px;
            padding: 25px;
        }

        .content-text h3 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--warm-orange);
            font-weight: 700;
        }

        .content-text p {
            line-height: 1.8;
            color: var(--text-dim);
            margin-bottom: 25px;
            font-size: 1.1rem;
        }

        .mood-stats {
            display: flex;
            gap: 30px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            flex: 1;
            min-width: 180px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .actions {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 50px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 16px 32px;
            border-radius: 50px;
            border: none;
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            font-size: 1.05rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(90deg, var(--card-bg), rgba(40, 40, 50, 0.9));
            color: var(--text-light);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, rgba(255, 154, 60, 0.2), rgba(157, 78, 221, 0.2));
            transition: width 0.4s ease;
            z-index: -1;
        }

        .action-btn:hover::before {
            width: 100%;
        }

        .action-btn:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }

        .action-btn i {
            font-size: 1.3rem;
        }

        .mood-history {
            background: rgba(35, 35, 45, 0.7);
            border-radius: 20px;
            padding: 30px;
            margin: 60px 0 40px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .history-title {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: var(--soft-yellow);
            text-align: center;
            font-weight: 700;
        }

        .history-list {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding: 15px 10px;
            scrollbar-width: thin;
            scrollbar-color: var(--warm-orange) rgba(255, 255, 255, 0.05);
        }

        .history-item {
            min-width: 180px;
            background: rgba(20, 20, 30, 0.8);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .history-item:hover {
            transform: translateY(-10px);
            background: rgba(30, 30, 40, 0.9);
            border-color: rgba(255, 154, 60, 0.3);
        }

        .history-mood {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .history-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .history-time {
            font-size: 0.85rem;
            color: var(--text-dim);
        }

        .glow-effect {
            position: fixed;
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--glow-color) 0%, transparent 70%);
            filter: blur(60px);
            opacity: 0.25;
            z-index: -1;
            animation: float 25s infinite ease-in-out;
        }

        .glow-effect:nth-child(2) {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(157, 78, 221, 0.3) 0%, transparent 70%);
            animation-delay: -8s;
            animation-duration: 30s;
        }

        .glow-effect:nth-child(3) {
            width: 350px;
            height: 350px;
            background: radial-gradient(circle, rgba(239, 71, 111, 0.3) 0%, transparent 70%);
            animation-delay: -15s;
            animation-duration: 22s;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: var(--soft-yellow);
            opacity: 0;
        }

        .visual-particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0.7;
        }

        footer {
            text-align: center;
            padding: 50px 20px;
            margin-top: 80px;
            color: var(--text-dim);
            font-size: 0.95rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            background: rgba(15, 15, 20, 0.5);
            border-radius: 20px 20px 0 0;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
            text-align: left;
        }

        .footer-section {
            flex: 1;
            min-width: 250px;
        }

        .footer-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--soft-yellow);
        }

        @keyframes float {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg) scale(1);
            }
            20% {
                transform: translate(120px, 180px) rotate(90deg) scale(1.1);
            }
            40% {
                transform: translate(-80px, 250px) rotate(180deg) scale(0.9);
            }
            60% {
                transform: translate(200px, 100px) rotate(270deg) scale(1.05);
            }
            80% {
                transform: translate(50px, 300px) rotate(360deg) scale(0.95);
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 0.3;
            }
            50% {
                opacity: 0.8;
            }
        }

        @keyframes sparkle {
            0%, 100% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes ripple {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(1);
                opacity: 0;
            }
        }

        @media (max-width: 992px) {
            .logo {
                font-size: 2.6rem;
            }
            
            .mood-option {
                width: 120px;
                height: 120px;
            }
            
            .mood-icon {
                font-size: 2.3rem;
            }
            
            .experience-area {
                padding: 35px;
            }
            
            .visual-container {
                min-width: 300px;
                height: 300px;
            }
        }

        @media (max-width: 768px) {
            .logo {
                font-size: 2.2rem;
            }
            
            .mood-option {
                width: 100px;
                height: 100px;
            }
            
            .mood-icon {
                font-size: 1.9rem;
            }
            
            .mood-name {
                font-size: 1rem;
            }
            
            .experience-title {
                font-size: 1.8rem;
            }
            
            .visual-container {
                min-width: 280px;
                height: 280px;
            }
            
            .mood-visual {
                font-size: 7rem;
            }
            
            .actions {
                gap: 15px;
            }
            
            .action-btn {
                padding: 14px 25px;
            }
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 1.9rem;
            }
            
            .mood-option {
                width: 85px;
                height: 85px;
            }
            
            .mood-icon {
                font-size: 1.6rem;
            }
            
            .mood-name {
                font-size: 0.9rem;
            }
            
            .experience-area {
                padding: 25px;
            }
            
            .visual-container {
                min-width: 250px;
                height: 250px;
            }
            
            .mood-visual {
                font-size: 5.5rem;
            }
            
            .input-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Glow effects -->
    <div class="glow-effect" style="top: 5%; left: 3%;"></div>
    <div class="glow-effect" style="top: 65%; right: 5%;"></div>
    <div class="glow-effect" style="bottom: 10%; left: 10%;"></div>
    
    <!-- Background particles -->
    <div class="particles" id="particles"></div>

    <div class="container">
        <header>
            <h1 class="logo">MoodScape Pro</h1>
            <p class="tagline">An advanced interactive experience that transforms based on your emotional state. Select your mood or describe it in your own words to customize the environment.</p>
            
            <div class="mood-input-section">
                <h2 class="input-title">Describe Your Current Mood</h2>
                <div class="mood-input-container">
                    <div class="custom-mood-input">
                        <input type="text" id="customMoodInput" placeholder="How are you feeling? (e.g., 'hopeful', 'stressed', 'creative', 'nostalgic')">
                        <button class="input-btn" id="analyzeMoodBtn">
                            <i class="fas fa-magic"></i> Analyze Mood
                        </button>
                    </div>
                    <p style="color: var(--text-dim); text-align: center; width: 100%; margin-top: 10px; font-size: 0.9rem;">
                        Our AI will analyze your mood and create a personalized experience
                    </p>
                </div>
            </div>
            
            <div class="mood-selector" id="moodSelector">
                <!-- Mood options will be generated by JavaScript -->
            </div>
            
            <div class="mood-description" id="moodDescription">
                Select a mood or describe your feelings to begin your personalized experience
            </div>
        </header>
        
        <main>
            <div class="experience-area" id="experienceArea">
                <h2 class="experience-title" id="experienceTitle">Your Mood Experience Awaits</h2>
                
                <div class="experience-content">
                    <div class="visual-container">
                        <div class="visual-effects" id="visualEffects"></div>
                        <div class="mood-visual" id="moodVisual">
                            <i class="fas fa-smile"></i>
                        </div>
                    </div>
                    
                    <div class="content-text">
                        <h3 id="contentTitle">Discover Your Moodscape</h3>
                        <p id="contentText">This advanced interactive space adapts to reflect your current emotional state. Choose from predefined moods or describe your own to transform the visuals, colors, sounds, and content to match your feelings.</p>
                        <p id="contentTip">Each mood offers a unique combination of dynamic visual effects, adaptive color schemes, and carefully curated content designed to enhance your emotional experience.</p>
                        
                        <div class="mood-stats" id="moodStats">
                            <div class="stat-item">
                                <div class="stat-value" id="moodIntensity">0%</div>
                                <div class="stat-label">Mood Intensity</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="moodDuration">0 min</div>
                                <div class="stat-label">Duration</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="moodMatches">0</div>
                                <div class="stat-label">Mood Matches</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mood-history" id="moodHistory">
                <h2 class="history-title">Your Mood History</h2>
                <div class="history-list" id="historyList">
                    <!-- Mood history items will be added here -->
                </div>
            </div>
            
            <div class="actions">
                <button class="action-btn" id="musicBtn">
                    <i class="fas fa-music"></i> Mood Music
                </button>
                <button class="action-btn" id="quoteBtn">
                    <i class="fas fa-quote-right"></i> Inspiring Quote
                </button>
                <button class="action-btn" id="activityBtn">
                    <i class="fas fa-hiking"></i> Mood Activity
                </button>
                <button class="action-btn" id="visualizeBtn">
                    <i class="fas fa-eye"></i> Visualize Mood
                </button>
                <button class="action-btn" id="shareBtn">
                    <i class="fas fa-share-alt"></i> Share Mood
                </button>
                <button class="action-btn" id="resetBtn">
                    <i class="fas fa-redo"></i> Reset
                </button>
            </div>
        </main>
        
        <footer>
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-title">MoodScape Pro</h3>
                    <p>An advanced interactive mood-based experience that adapts to your emotions in real-time.</p>
                </div>
                <div class="footer-section">
                    <h3 class="footer-title">Features</h3>
                    <p>• AI Mood Analysis</p>
                    <p>• Dynamic Visual Effects</p>
                    <p>• Mood History Tracking</p>
                    <p>• Personalized Recommendations</p>
                </div>
                <div class="footer-section">
                    <h3 class="footer-title">Tips</h3>
                    <p>• Describe your mood in detail for better personalization</p>
                    <p>• Try different moods to discover new experiences</p>
                    <p>• Use the mood history to track your emotional patterns</p>
                </div>
            </div>
            <p style="margin-top: 40px;">MoodScape Pro &copy; 2023 | Advanced Mood-Based Interactive Experience</p>
        </footer>
    </div>

    <script>
        // Enhanced Mood data configuration
        const moods = [
            {
                id: 'joyful',
                name: 'Joyful',
                icon: 'fas fa-laugh-beam',
                color: '#ff9a3c',
                bgColor: 'radial-gradient(circle, rgba(255,154,60,0.25) 0%, rgba(25,25,35,0.9) 70%)',
                description: 'A bright, uplifting experience filled with warm, glowing energy and positive vibes. Perfect for moments of happiness and celebration.',
                title: 'Radiant Joy Experience',
                content: 'Welcome to a space filled with vibrant energy and positivity! Let the warm glow surround you as you embrace this moment of happiness. Sunlight-like particles dance around, creating an atmosphere of pure delight.',
                tip: 'Focus on the glowing elements and let the warmth fill your space. Try the "Visualize Mood" button for an extra burst of joy!',
                visual: 'fas fa-sun',
                music: 'Upbeat, cheerful tunes',
                quotes: [
                    "Joy is the simplest form of gratitude.",
                    "The sun himself is weak when he first rises, and gathers strength and courage as the day gets on.",
                    "Joy does not simply happen to us. We have to choose joy and keep choosing it every day.",
                    "Happiness is not something ready-made. It comes from your own actions."
                ],
                activities: [
                    "Dance to your favorite upbeat song",
                    "Write down three things you're grateful for",
                    "Call a friend and share a funny story",
                    "Take a walk in nature and notice the beauty around you"
                ],
                intensity: 4,
                visualEffect: 'sparkle'
            },
            {
                id: 'calm',
                name: 'Calm',
                icon: 'fas fa-spa',
                color: '#9d4edd',
                bgColor: 'radial-gradient(circle, rgba(157,78,221,0.25) 0%, rgba(25,25,35,0.9) 70%)',
                description: 'A peaceful, serene environment with soothing colors and gentle movements. Designed for relaxation and mindfulness.',
                title: 'Tranquil Calm Experience',
                content: 'Breathe deeply and let the gentle glow wash over you. This space is designed to bring peace and tranquility to your mind. Flowing particles move like water, creating a sense of calm and stillness.',
                tip: 'Follow the gentle movement of particles to enhance your sense of calm. Try synchronized breathing with the visual pulses.',
                visual: 'fas fa-water',
                music: 'Ambient, relaxing sounds',
                quotes: [
                    "Peace is the result of retraining your mind to process life as it is, rather than as you think it should be.",
                    "Calm mind brings inner strength and self-confidence, so that's very important for good health.",
                    "The more tranquil a man becomes, the greater is his success, his influence, his power for good.",
                    "Silence is not the absence of something but the presence of everything."
                ],
                activities: [
                    "Practice 5 minutes of deep breathing",
                    "Try a guided meditation",
                    "Sip a warm herbal tea slowly",
                    "Listen to the sounds of nature"
                ],
                intensity: 2,
                visualEffect: 'ripple'
            },
            {
                id: 'energetic',
                name: 'Energetic',
                icon: 'fas fa-bolt',
                color: '#ef476f',
                bgColor: 'radial-gradient(circle, rgba(239,71,111,0.25) 0%, rgba(25,25,35,0.9) 70%)',
                description: 'A dynamic, lively atmosphere with vibrant colors and pulsating energy. Perfect for motivation and action.',
                title: 'Dynamic Energy Experience',
                content: 'Feel the vibrant energy flowing through this space! Let the dynamic glow fuel your motivation and creativity. Pulsating particles move with intensity, matching your energetic state.',
                tip: 'The pulsating visuals are designed to match your energetic state. Try matching your breathing to the rhythm for an energizing effect.',
                visual: 'fas fa-fire',
                music: 'Energetic, driving beats',
                quotes: [
                    "Energy and persistence conquer all things.",
                    "Your energy introduces you before you even speak.",
                    "The energy of the mind is the essence of life.",
                    "Don't watch the clock; do what it does. Keep going."
                ],
                activities: [
                    "Do a 5-minute burst of exercise",
                    "Tackle a challenging task you've been avoiding",
                    "Create a vision board for your goals",
                    "Listen to motivational podcasts"
                ],
                intensity: 5,
                visualEffect: 'pulse'
            },
            {
                id: 'cozy',
                name: 'Cozy',
                icon: 'fas fa-home',
                color: '#ffd166',
                bgColor: 'radial-gradient(circle, rgba(255,209,102,0.25) 0%, rgba(25,25,35,0.9) 70%)',
                description: 'A warm, comforting space that feels like a gentle hug on a cold day. Perfect for relaxation and comfort.',
                title: 'Warm Cozy Experience',
                content: 'Wrap yourself in this warm, comforting glow. This space is designed to make you feel safe, secure, and completely at ease. Soft particles drift like embers from a fireplace, creating a cozy atmosphere.',
                tip: 'The gentle pulses of light mimic a cozy fireplace or warm blanket. Imagine yourself wrapped in comfort as you experience this space.',
                visual: 'fas fa-couch',
                music: 'Soft, acoustic melodies',
                quotes: [
                    "There is nothing like staying at home for real comfort.",
                    "Cozy is an atmosphere, a feeling, a state of mind.",
                    "The warmth of home is not in the walls but in the hearts that live within.",
                    "Comfort is the one thing you cannot get by looking for it."
                ],
                activities: [
                    "Wrap yourself in a soft blanket",
                    "Read a book by soft light",
                    "Enjoy a warm beverage",
                    "Write in a journal about things that make you feel safe"
                ],
                intensity: 3,
                visualEffect: 'float'
            },
            {
                id: 'reflective',
                name: 'Reflective',
                icon: 'fas fa-moon',
                color: '#118ab2',
                bgColor: 'radial-gradient(circle, rgba(17,138,178,0.25) 0%, rgba(25,25,35,0.9) 70%)',
                description: 'A thoughtful, introspective environment with deep colors and gentle movements. Designed for contemplation and insight.',
                title: 'Deep Reflection Experience',
                content: 'This contemplative space invites you to look inward. The gentle glow provides just enough light for thoughtful reflection. Particles move in thoughtful patterns, encouraging deep thinking.',
                tip: 'Watch how the particles move slowly, encouraging mindful observation. Try to match your thoughts to their flowing patterns.',
                visual: 'fas fa-star',
                music: 'Thoughtful, instrumental pieces',
                quotes: [
                    "The unexamined life is not worth living.",
                    "We do not learn from experience... we learn from reflecting on experience.",
                    "Life can only be understood backwards; but it must be lived forwards.",
                    "Knowing yourself is the beginning of all wisdom."
                ],
                activities: [
                    "Journal about your thoughts and feelings",
                    "Contemplate a meaningful question",
                    "Practice mindfulness meditation",
                    "Review your day and note what you learned"
                ],
                intensity: 3,
                visualEffect: 'orbit'
            },
            {
                id: 'hopeful',
                name: 'Hopeful',
                icon: 'fas fa-seedling',
                color: '#06d6a0',
                bgColor: 'radial-gradient(circle, rgba(6,214,160,0.25) 0%, rgba(25,25,35,0.9) 70%)',
                description: 'An optimistic, forward-looking environment with uplifting colors and growing visuals. Perfect for planning and aspiration.',
                title: 'Optimistic Hope Experience',
                content: 'Welcome to a space of possibility and growth! This environment is designed to nurture hope and optimism. Particles rise like seeds taking flight, representing new beginnings.',
                tip: 'Watch how particles grow and rise upward, symbolizing hope and progress. Focus on the upward movement to enhance your optimistic outlook.',
                visual: 'fas fa-feather-alt',
                music: 'Inspirational, uplifting scores',
                quotes: [
                    "Hope is being able to see that there is light despite all of the darkness.",
                    "The very least you can do in your life is to figure out what you hope for.",
                    "Hope is the thing with feathers that perches in the soul.",
                    "Where there is no vision, the people perish."
                ],
                activities: [
                    "Write down your hopes for the future",
                    "Visualize your ideal day",
                    "Plan one small step toward a goal",
                    "Share your hopes with someone you trust"
                ],
                intensity: 4,
                visualEffect: 'grow'
            }
        ];

        // Additional mood keywords for AI analysis
        const moodKeywords = {
            happy: ['joyful', 'excited', 'cheerful', 'delighted', 'elated', 'ecstatic', 'blissful'],
            calm: ['peaceful', 'serene', 'tranquil', 'relaxed', 'placid', 'composed', 'unruffled'],
            energetic: ['vibrant', 'lively', 'dynamic', 'animated', 'spirited', 'vigorous', 'enthusiastic'],
            cozy: ['comfortable', 'snug', 'warm', 'homey', 'inviting', 'nestlike', 'sheltered'],
            reflective: ['thoughtful', 'contemplative', 'introspective', 'pensive', 'meditative', 'philosophical'],
            hopeful: ['optimistic', 'expectant', 'confident', 'sanguine', 'buoyant', 'positive', 'forward-looking'],
            sad: ['melancholy', 'down', 'blue', 'disheartened', 'gloomy', 'mournful', 'somber'],
            creative: ['inspired', 'imaginative', 'inventive', 'artistic', 'innovative', 'original', 'visionary'],
            focused: ['concentrated', 'attentive', 'absorbed', 'engrossed', 'intent', 'rapt', 'immersed'],
            nostalgic: ['sentimental', 'wistful', 'yearning', 'reminiscent', 'retrospective', 'longing']
        };

        // DOM Elements
        const moodSelector = document.getElementById('moodSelector');
        const moodDescription = document.getElementById('moodDescription');
        const experienceArea = document.getElementById('experienceArea');
        const experienceTitle = document.getElementById('experienceTitle');
        const moodVisual = document.getElementById('moodVisual');
        const contentTitle = document.getElementById('contentTitle');
        const contentText = document.getElementById('contentText');
        const contentTip = document.getElementById('contentTip');
        const moodStats = document.getElementById('moodStats');
        const moodIntensity = document.getElementById('moodIntensity');
        const moodDuration = document.getElementById('moodDuration');
        const moodMatches = document.getElementById('moodMatches');
        const visualEffects = document.getElementById('visualEffects');
        const historyList = document.getElementById('historyList');
        const customMoodInput = document.getElementById('customMoodInput');
        const analyzeMoodBtn = document.getElementById('analyzeMoodBtn');
        const musicBtn = document.getElementById('musicBtn');
        const quoteBtn = document.getElementById('quoteBtn');
        const activityBtn = document.getElementById('activityBtn');
        const visualizeBtn = document.getElementById('visualizeBtn');
        const shareBtn = document.getElementById('shareBtn');
        const resetBtn = document.getElementById('resetBtn');
        const particlesContainer = document.getElementById('particles');

        // App state
        let currentMood = null;
        let particles = [];
        let moodHistory = [];
        let sessionStartTime = Date.now();
        let moodMatchCount = 0;
        let intensityLevel = 3;
        let visualEffectInterval = null;

        // Initialize the mood selector
        function initMoodSelector() {
            moods.forEach(mood => {
                const moodElement = document.createElement('div');
                moodElement.className = 'mood-option';
                moodElement.setAttribute('data-mood', mood.id);
                moodElement.innerHTML = `
                    <i class="${mood.icon} mood-icon"></i>
                    <span class="mood-name">${mood.name}</span>
                    <div class="mood-intensity">
                        ${Array.from({length: 5}).map((_, i) => 
                            `<div class="intensity-dot ${i < mood.intensity ? 'active' : ''}"></div>`
                        ).join('')}
                    </div>
                `;
                
                moodElement.addEventListener('click', () => selectMood(mood.id));
                
                moodSelector.appendChild(moodElement);
            });
        }

        // AI Mood Analysis from text input
        function analyzeMoodFromText(text) {
            const input = text.toLowerCase().trim();
            if (!input) return null;
            
            // Check for direct mood matches
            for (const mood of moods) {
                if (input.includes(mood.name.toLowerCase()) || input.includes(mood.id)) {
                    return mood.id;
                }
            }
            
            // Check keyword matches
            let bestMatch = null;
            let highestScore = 0;
            
            for (const [moodType, keywords] of Object.entries(moodKeywords)) {
                let score = 0;
                keywords.forEach(keyword => {
                    if (input.includes(keyword)) {
                        score += 3;
                    }
                });
                
                // Check for synonyms and related words
                if (input.includes('happy') || input.includes('good') || input.includes('great')) {
                    if (moodType === 'happy') score += 2;
                }
                if (input.includes('sad') || input.includes('bad') || input.includes('down')) {
                    if (moodType === 'sad') score += 2;
                }
                if (input.includes('tired') || input.includes('sleep')) {
                    if (moodType === 'calm') score += 1;
                }
                if (input.includes('work') || input.includes('focus')) {
                    if (moodType === 'focused') score += 2;
                }
                
                if (score > highestScore) {
                    highestScore = score;
                    bestMatch = moodType;
                }
            }
            
            // Map keyword result to mood ID
            if (bestMatch) {
                const moodMap = {
                    'happy': 'joyful',
                    'calm': 'calm',
                    'energetic': 'energetic',
                    'cozy': 'cozy',
                    'reflective': 'reflective',
                    'hopeful': 'hopeful',
                    'sad': 'reflective', // Map sad to reflective for a supportive experience
                    'creative': 'energetic',
                    'focused': 'reflective',
                    'nostalgic': 'cozy'
                };
                
                return moodMap[bestMatch] || 'joyful';
            }
            
            // Default to joyful if no match found
            return 'joyful';
        }

        // Select a mood
        function selectMood(moodId, fromInput = false) {
            const mood = moods.find(m => m.id === moodId);
            if (!mood) return;
            
            // Update current mood
            currentMood = mood;
            intensityLevel = mood.intensity;
            
            // Add to history
            addToHistory(mood, fromInput);
            
            // Update active state in UI
            document.querySelectorAll('.mood-option').forEach(option => {
                option.classList.remove('active');
                if (option.getAttribute('data-mood') === moodId) {
                    option.classList.add('active');
                }
            });
            
            // Update description
            moodDescription.textContent = mood.description;
            moodDescription.style.color = mood.color;
            moodDescription.style.textShadow = `0 0 15px ${mood.color}80`;
            
            // Update experience area
            experienceTitle.textContent = mood.title;
            experienceTitle.style.color = mood.color;
            
            // Update visual
            moodVisual.innerHTML = `<i class="${mood.visual}"></i>`;
            moodVisual.style.color = mood.color;
            moodVisual.style.filter = `drop-shadow(0 0 25px ${mood.color})`;
            
            // Update content
            contentTitle.textContent = mood.title;
            contentText.textContent = mood.content;
            contentTip.textContent = mood.tip;
            
            // Update stats
            updateStats();
            
            // Update background glow
            document.documentElement.style.setProperty('--glow-color', `${mood.color}70`);
            
            // Update experience area background
            experienceArea.style.background = mood.bgColor;
            experienceArea.style.borderColor = `${mood.color}30`;
            
            // Update particles color
            updateParticlesColor(mood.color);
            
            // Create visual effects
            createVisualEffects(mood.visualEffect, mood.color);
            
            // Animate the transition
            experienceArea.style.transform = 'translateY(-15px) scale(0.98)';
            setTimeout(() => {
                experienceArea.style.transform = 'translateY(0) scale(1)';
            }, 400);
            
            // Increment mood match count
            if (!fromInput) {
                moodMatchCount++;
                updateStats();
            }
        }

        // Add mood to history
        function addToHistory(mood, fromInput = false) {
            const historyItem = {
                mood: mood,
                timestamp: new Date(),
                fromInput: fromInput
            };
            
            moodHistory.unshift(historyItem);
            
            // Keep only last 10 items
            if (moodHistory.length > 10) {
                moodHistory = moodHistory.slice(0, 10);
            }
            
            updateHistoryDisplay();
        }

        // Update history display
        function updateHistoryDisplay() {
            historyList.innerHTML = '';
            
            moodHistory.forEach((item, index) => {
                const timeAgo = getTimeAgo(item.timestamp);
                const historyElement = document.createElement('div');
                historyElement.className = 'history-item';
                historyElement.innerHTML = `
                    <div class="history-mood" style="color: ${item.mood.color}">
                        <i class="${item.mood.icon}"></i>
                    </div>
                    <div class="history-name">${item.mood.name}</div>
                    <div class="history-time">${timeAgo}</div>
                    ${item.fromInput ? '<div class="history-time" style="color: #06d6a0; margin-top: 5px;"><i class="fas fa-keyboard"></i> Custom</div>' : ''}
                `;
                
                historyElement.addEventListener('click', () => selectMood(item.mood.id, item.fromInput));
                
                historyList.appendChild(historyElement);
            });
        }

        // Get time ago string
        function getTimeAgo(timestamp) {
            const now = new Date();
            const diffMs = now - timestamp;
            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMs / 3600000);
            const diffDays = Math.floor(diffMs / 86400000);
            
            if (diffMins < 1) return 'Just now';
            if (diffMins < 60) return `${diffMins} min ago`;
            if (diffHours < 24) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;
            return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;
        }

        // Update statistics
        function updateStats() {
            const sessionDuration = Math.floor((Date.now() - sessionStartTime) / 60000);
            
            moodIntensity.textContent = `${intensityLevel * 20}%`;
            moodDuration.textContent = `${sessionDuration} min`;
            moodMatches.textContent = moodMatchCount;
            
            // Animate stats
            moodIntensity.style.transform = 'scale(1.2)';
            setTimeout(() => {
                moodIntensity.style.transform = 'scale(1)';
            }, 300);
        }

        // Create particles
        function createParticles() {
            // Clear existing particles
            particlesContainer.innerHTML = '';
            particles = [];
            
            // Create new particles
            for (let i = 0; i < 80; i++) {
                createParticle();
            }
        }

        // Create a single particle
        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            
            // Random size
            const size = Math.random() * 12 + 3;
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            
            // Random position
            particle.style.left = `${Math.random() * 100}%`;
            particle.style.top = `${Math.random() * 100}%`;
            
            // Random animation delay
            particle.style.animationDelay = `${Math.random() * 5}s`;
            
            particlesContainer.appendChild(particle);
            
            // Store particle reference
            particles.push({
                element: particle,
                x: Math.random() * 100,
                y: Math.random() * 100,
                speedX: (Math.random() - 0.5) * 0.3,
                speedY: (Math.random() - 0.5) * 0.3,
                size: size,
                opacity: Math.random() * 0.6 + 0.1,
                color: '#ffd166'
            });
        }

        // Animate particles
        function animateParticles() {
            particles.forEach(p => {
                // Update position
                p.x += p.speedX;
                p.y += p.speedY;
                
                // Bounce off edges
                if (p.x > 100 || p.x < 0) p.speedX *= -1;
                if (p.y > 100 || p.y < 0) p.speedY *= -1;
                
                // Keep within bounds
                p.x = Math.max(0, Math.min(100, p.x));
                p.y = Math.max(0, Math.min(100, p.y));
                
                // Apply position
                p.element.style.left = `${p.x}%`;
                p.element.style.top = `${p.y}%`;
                
                // Pulsing opacity
                p.opacity = 0.1 + 0.5 * (0.5 + 0.5 * Math.sin(Date.now() * 0.001 + p.x * 0.1));
                p.element.style.opacity = p.opacity;
                
                // Apply color
                p.element.style.backgroundColor = p.color;
            });
            
            requestAnimationFrame(animateParticles);
        }

        // Update particles color
        function updateParticlesColor(color) {
            particles.forEach(p => {
                p.color = color;
            });
        }

        // Create visual effects based on mood
        function createVisualEffects(effectType, color) {
            // Clear existing effects
            visualEffects.innerHTML = '';
            if (visualEffectInterval) clearInterval(visualEffectInterval);
            
            const containerWidth = visualEffects.clientWidth;
            const containerHeight = visualEffects.clientHeight;
            
            switch(effectType) {
                case 'sparkle':
                    // Create sparkle effect
                    visualEffectInterval = setInterval(() => {
                        const sparkle = document.createElement('div');
                        sparkle.className = 'visual-particle';
                        sparkle.style.width = `${Math.random() * 15 + 5}px`;
                        sparkle.style.height = sparkle.style.width;
                        sparkle.style.backgroundColor = color;
                        sparkle.style.left = `${Math.random() * 100}%`;
                        sparkle.style.top = `${Math.random() * 100}%`;
                        sparkle.style.opacity = '0';
                        sparkle.style.animation = 'sparkle 1s ease-in-out';
                        visualEffects.appendChild(sparkle);
                        
                        // Remove sparkle after animation
                        setTimeout(() => {
                            if (sparkle.parentNode) {
                                sparkle.parentNode.removeChild(sparkle);
                            }
                        }, 1000);
                    }, 200);
                    break;
                    
                case 'ripple':
                    // Create ripple effect
                    visualEffectInterval = setInterval(() => {
                        const ripple = document.createElement('div');
                        ripple.className = 'visual-particle';
                        ripple.style.width = '10px';
                        ripple.style.height = '10px';
                        ripple.style.backgroundColor = color;
                        ripple.style.left = '50%';
                        ripple.style.top = '50%';
                        ripple.style.transform = 'translate(-50%, -50%)';
                        ripple.style.borderRadius = '50%';
                        ripple.style.opacity = '0.7';
                        ripple.style.animation = 'ripple 2s ease-out infinite';
                        visualEffects.appendChild(ripple);
                        
                        // Remove ripple after animation
                        setTimeout(() => {
                            if (ripple.parentNode) {
                                ripple.parentNode.removeChild(ripple);
                            }
                        }, 2000);
                    }, 1000);
                    break;
                    
                case 'pulse':
                    // Create pulse effect
                    const pulse = document.createElement('div');
                    pulse.className = 'visual-particle';
                    pulse.style.width = '100%';
                    pulse.style.height = '100%';
                    pulse.style.backgroundColor = color;
                    pulse.style.opacity = '0.1';
                    pulse.style.borderRadius = '20px';
                    pulse.style.animation = 'pulse 3s ease-in-out infinite';
                    visualEffects.appendChild(pulse);
                    break;
                    
                case 'float':
                    // Create floating particles
                    for (let i = 0; i < 15; i++) {
                        const floatParticle = document.createElement('div');
                        floatParticle.className = 'visual-particle';
                        const size = Math.random() * 20 + 10;
                        floatParticle.style.width = `${size}px`;
                        floatParticle.style.height = `${size}px`;
                        floatParticle.style.backgroundColor = color;
                        floatParticle.style.left = `${Math.random() * 100}%`;
                        floatParticle.style.top = `${Math.random() * 100}%`;
                        floatParticle.style.opacity = '0.3';
                        floatParticle.style.borderRadius = '50%';
                        
                        // Random float animation
                        const duration = Math.random() * 10 + 10;
                        floatParticle.style.animation = `float ${duration}s infinite ease-in-out`;
                        
                        visualEffects.appendChild(floatParticle);
                    }
                    break;
                    
                case 'orbit':
                    // Create orbiting particles
                    const centerX = containerWidth / 2;
                    const centerY = containerHeight / 2;
                    
                    for (let i = 0; i < 8; i++) {
                        const orbitParticle = document.createElement('div');
                        orbitParticle.className = 'visual-particle';
                        orbitParticle.style.width = '15px';
                        orbitParticle.style.height = '15px';
                        orbitParticle.style.backgroundColor = color;
                        orbitParticle.style.opacity = '0.5';
                        orbitParticle.style.borderRadius = '50%';
                        visualEffects.appendChild(orbitParticle);
                        
                        // Animate orbit
                        const radius = 80 + i * 20;
                        const speed = 0.002 + i * 0.0005;
                        let angle = i * (Math.PI / 4);
                        
                        function updateOrbit() {
                            const x = centerX + radius * Math.cos(angle) - 7.5;
                            const y = centerY + radius * Math.sin(angle) - 7.5;
                            
                            orbitParticle.style.left = `${x}px`;
                            orbitParticle.style.top = `${y}px`;
                            
                            angle += speed;
                            requestAnimationFrame(updateOrbit);
                        }
                        
                        updateOrbit();
                    }
                    break;
                    
                case 'grow':
                    // Create growing particles
                    for (let i = 0; i < 10; i++) {
                        const growParticle = document.createElement('div');
                        growParticle.className = 'visual-particle';
                        growParticle.style.width = '5px';
                        growParticle.style.height = '5px';
                        growParticle.style.backgroundColor = color;
                        growParticle.style.left = `${Math.random() * 100}%`;
                        growParticle.style.top = `${Math.random() * 100}%`;
                        growParticle.style.opacity = '0';
                        growParticle.style.borderRadius = '50%';
                        
                        // Grow animation
                        growParticle.animate([
                            { transform: 'scale(0)', opacity: 0 },
                            { transform: 'scale(1.5)', opacity: 0.7 },
                            { transform: 'scale(1)', opacity: 0.3 }
                        ], {
                            duration: 2000 + Math.random() * 3000,
                            iterations: Infinity,
                            delay: i * 300
                        });
                        
                        visualEffects.appendChild(growParticle);
                    }
                    break;
            }
        }

        // Show music suggestion
        function showMusicSuggestion() {
            if (!currentMood) {
                alert('Please select a mood first!');
                return;
            }
            
            // Create a nicer alert with emoji
            const musicMessage = `🎵 For your ${currentMood.name.toLowerCase()} mood, we recommend:\n\n"${currentMood.music}"\n\nTry streaming services for "${currentMood.name} mood" playlists!`;
            showNotification(musicMessage, currentMood.color);
        }

        // Show random quote
        function showRandomQuote() {
            if (!currentMood) {
                alert('Please select a mood first!');
                return;
            }
            
            const randomQuote = currentMood.quotes[Math.floor(Math.random() * currentMood.quotes.length)];
            const quoteMessage = `"${randomQuote}"\n\n- ${currentMood.name} Mood`;
            showNotification(quoteMessage, currentMood.color);
        }

        // Show mood activity
        function showMoodActivity() {
            if (!currentMood) {
                alert('Please select a mood first!');
                return;
            }
            
            const randomActivity = currentMood.activities[Math.floor(Math.random() * currentMood.activities.length)];
            const activityMessage = `🎯 For your ${currentMood.name.toLowerCase()} mood, try this activity:\n\n${randomActivity}`;
            showNotification(activityMessage, currentMood.color);
        }

        // Visualize mood (enhanced visualization)
        function visualizeMood() {
            if (!currentMood) {
                alert('Please select a mood first!');
                return;
            }
            
            // Intensify the current visualization
            intensityLevel = Math.min(5, intensityLevel + 1);
            
            // Update stats
            updateStats();
            
            // Create an extra visualization burst
            const burstContainer = document.createElement('div');
            burstContainer.style.position = 'absolute';
            burstContainer.style.top = '0';
            burstContainer.style.left = '0';
            burstContainer.style.width = '100%';
            burstContainer.style.height = '100%';
            burstContainer.style.pointerEvents = 'none';
            burstContainer.style.zIndex = '5';
            
            for (let i = 0; i < 30; i++) {
                const burstParticle = document.createElement('div');
                burstParticle.style.position = 'absolute';
                burstParticle.style.width = `${Math.random() * 20 + 5}px`;
                burstParticle.style.height = burstParticle.style.width;
                burstParticle.style.backgroundColor = currentMood.color;
                burstParticle.style.borderRadius = '50%';
                burstParticle.style.left = '50%';
                burstParticle.style.top = '50%';
                burstParticle.style.opacity = '0.7';
                
                // Random direction and distance
                const angle = Math.random() * Math.PI * 2;
                const distance = 100 + Math.random() * 150;
                const duration = 800 + Math.random() * 400;
                
                // Animate burst
                burstParticle.animate([
                    { transform: 'translate(-50%, -50%) scale(0)', opacity: 0.7 },
                    { transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px) scale(1)`, opacity: 0 }
                ], {
                    duration: duration,
                    easing: 'cubic-bezier(0.22, 1, 0.36, 1)'
                });
                
                burstContainer.appendChild(burstParticle);
                
                // Remove particle after animation
                setTimeout(() => {
                    if (burstParticle.parentNode) {
                        burstParticle.parentNode.removeChild(burstParticle);
                    }
                }, duration);
            }
            
            experienceArea.appendChild(burstContainer);
            
            // Remove container after animation completes
            setTimeout(() => {
                if (burstContainer.parentNode) {
                    burstContainer.parentNode.removeChild(burstContainer);
                }
            }, 1200);
            
            showNotification(`✨ Enhanced ${currentMood.name} visualization activated!`, currentMood.color);
        }

        // Share mood
        function shareMood() {
            if (!currentMood) {
                alert('Please select a mood first!');
                return;
            }
            
            const shareText = `I'm experiencing a ${currentMood.name.toLowerCase()} mood on MoodScape Pro!`;
            const shareUrl = window.location.href;
            
            if (navigator.share) {
                navigator.share({
                    title: 'My MoodScape Experience',
                    text: shareText,
                    url: shareUrl
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                const shareMessage = `${shareText}\n\nCheck it out: ${shareUrl}`;
                navigator.clipboard.writeText(shareMessage).then(() => {
                    showNotification('📋 Mood copied to clipboard! Share it with your friends.', currentMood.color);
                });
            }
        }

        // Reset experience
        function resetExperience() {
            currentMood = null;
            intensityLevel = 3;
            
            // Reset UI
            document.querySelectorAll('.mood-option').forEach(option => {
                option.classList.remove('active');
            });
            
            moodDescription.textContent = 'Select a mood or describe your feelings to begin your personalized experience';
            moodDescription.style.color = '';
            moodDescription.style.textShadow = '';
            
            experienceTitle.textContent = 'Your Mood Experience Awaits';
            experienceTitle.style.color = '';
            
            moodVisual.innerHTML = '<i class="fas fa-smile"></i>';
            moodVisual.style.color = '';
            moodVisual.style.filter = '';
            
            contentTitle.textContent = 'Discover Your Moodscape';
            contentText.textContent = 'This advanced interactive space adapts to reflect your current emotional state. Choose from predefined moods or describe your own to transform the visuals, colors, sounds, and content to match your feelings.';
            contentTip.textContent = 'Each mood offers a unique combination of dynamic visual effects, adaptive color schemes, and carefully curated content designed to enhance your emotional experience.';
            
            // Reset stats
            moodMatchCount = 0;
            updateStats();
            
            // Reset background
            document.documentElement.style.setProperty('--glow-color', 'rgba(255, 209, 102, 0.7)');
            experienceArea.style.background = 'var(--card-bg)';
            experienceArea.style.borderColor = 'rgba(255, 255, 255, 0.05)';
            
            // Reset particles color
            updateParticlesColor('var(--soft-yellow)');
            
            // Clear visual effects
            visualEffects.innerHTML = '';
            if (visualEffectInterval) clearInterval(visualEffectInterval);
            
            // Clear input
            customMoodInput.value = '';
            
            showNotification('🔄 Experience reset! Select a new mood to begin again.', '#ff9a3c');
        }

        // Show notification
        function showNotification(message, color) {
            // Remove existing notification
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 30px;
                right: 30px;
                background: ${color}20;
                color: white;
                padding: 18px 25px;
                border-radius: 15px;
                backdrop-filter: blur(10px);
                border: 1px solid ${color}40;
                max-width: 350px;
                z-index: 1000;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                transform: translateX(100px);
                opacity: 0;
                transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
                font-family: 'Poppins', sans-serif;
                font-weight: 500;
                line-height: 1.5;
                white-space: pre-line;
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
                notification.style.opacity = '1';
            }, 10);
            
            // Remove after 5 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(100px)';
                notification.style.opacity = '0';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 400);
            }, 5000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initMoodSelector();
            createParticles();
            animateParticles();
            
            // Select first mood by default
            selectMood('joyful');
            
            // Add some initial history
            setTimeout(() => {
                addToHistory(moods.find(m => m.id === 'joyful'), false);
                addToHistory(moods.find(m => m.id === 'calm'), false);
            }, 500);
        });

        // Event Listeners
        analyzeMoodBtn.addEventListener('click', () => {
            const inputText = customMoodInput.value.trim();
            if (!inputText) {
                showNotification('Please describe how you\'re feeling!', '#ef476f');
                return;
            }
            
            const analyzedMood = analyzeMoodFromText(inputText);
            if (analyzedMood) {
                selectMood(analyzedMood, true);
                showNotification(`✅ Mood detected: ${analyzedMood}\n\nBased on your input: "${inputText}"`, '#06d6a0');
            }
        });

        customMoodInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                analyzeMoodBtn.click();
            }
        });

        musicBtn.addEventListener('click', showMusicSuggestion);
        quoteBtn.addEventListener('click', showRandomQuote);
        activityBtn.addEventListener('click', showMoodActivity);
        visualizeBtn.addEventListener('click', visualizeMood);
        shareBtn.addEventListener('click', shareMood);
        resetBtn.addEventListener('click', resetExperience);
    </script>
</body>
</html>